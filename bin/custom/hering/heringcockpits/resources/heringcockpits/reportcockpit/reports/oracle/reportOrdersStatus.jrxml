<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="OrdersByIntervalReport" pageWidth="1228" pageHeight="822" orientation="Landscape" whenNoDataType="AllSectionsNoDetail" columnWidth="1228" leftMargin="0" rightMargin="0" topMargin="0" bottomMargin="0" isFloatColumnFooter="true">
	<property name="ireport.zoom" value="1.0"/>
	<property name="ireport.x" value="0"/>
	<property name="ireport.y" value="0"/>
	<parameter name="DATE_INI" class="java.util.Date">
		<parameterDescription><![CDATA[1. Data Inicial:]]></parameterDescription>
		<defaultValueExpression><![CDATA[]]></defaultValueExpression>
	</parameter>
	<parameter name="DATE_END" class="java.util.Date">
		<parameterDescription><![CDATA[2. Data Final:]]></parameterDescription>
	</parameter>
	<parameter name="BASE_SITE" class="java.lang.String">
		<defaultValueExpression><![CDATA[]]></defaultValueExpression>
	</parameter>
	<queryString>
		<![CDATA[SELECT {o.code} AS orderCode, {o.totalPrice}, {bs.uid} AS baseSite
     , {o.creationTime} AS orderDate
     , {u.uid} AS customer, {os.code} AS orderStatus
     , {ps.code} AS paymentStatus, {pm.code} AS paymentMode
FROM  {Order AS o
       JOIN OrderStatus AS os ON {o.status} = {os.pk}
       LEFT JOIN PaymentStatus AS ps ON {o.paymentStatus} = {ps.pk}
       JOIN PaymentMode AS pm ON {o.paymentMode} = {pm.pk}
       JOIN User AS u ON {o.user} = {u.pk}
       JOIN BaseSite AS bs ON {bs.pk} = {o.site}
      }
WHERE {o.creationTime} BETWEEN $P{DATE_INI} AND $P{DATE_END}
      OR {bs.uid} = $P{BASE_SITE}]]>
	</queryString>
	<field name="orderCode" class="java.lang.String"/>
	<field name="totalprice" class="java.lang.Double">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="baseSite" class="java.lang.String"/>
	<field name="orderDate" class="java.sql.Timestamp"/>
	<field name="customer" class="java.lang.String"/>
	<field name="orderStatus" class="java.lang.String"/>
	<field name="paymentStatus" class="java.lang.String"/>
	<field name="paymentMode" class="java.lang.String"/>
	<variable name="orderId_1" class="java.lang.Integer" calculation="DistinctCount">
		<variableExpression><![CDATA[$F{orderCode}]]></variableExpression>
	</variable>
	<variable name="totalprice_1" class="java.lang.Double" calculation="Sum">
		<variableExpression><![CDATA[$F{totalprice}]]></variableExpression>
	</variable>
	<variable name="customerEmail_1" class="java.lang.Integer" calculation="DistinctCount">
		<variableExpression><![CDATA[$F{customer}]]></variableExpression>
	</variable>
	<background>
		<band splitType="Stretch"/>
	</background>
	<pageHeader>
		<band height="75" splitType="Stretch">
			<staticText>
				<reportElement x="0" y="0" width="1228" height="32"/>
				<box>
					<topPen lineWidth="1.0"/>
					<leftPen lineWidth="1.0"/>
					<bottomPen lineWidth="1.0"/>
					<rightPen lineWidth="1.0"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="26" isBold="true"/>
				</textElement>
				<text><![CDATA[Relatório de Pedidos por Status]]></text>
			</staticText>
			<rectangle>
				<reportElement mode="Opaque" x="0" y="32" width="1228" height="43" backcolor="#F0F0F0"/>
			</rectangle>
			<staticText>
				<reportElement x="0" y="32" width="77" height="18"/>
				<box topPadding="2" leftPadding="2" bottomPadding="2" rightPadding="3"/>
				<text><![CDATA[Parâmetros: ]]></text>
			</staticText>
			<textField isStretchWithOverflow="true" pattern="dd/MM/yyyy" isBlankWhenNull="true">
				<reportElement x="107" y="50" width="100" height="18"/>
				<box topPadding="2" leftPadding="2" bottomPadding="2" rightPadding="3"/>
				<textFieldExpression><![CDATA[new java.text.SimpleDateFormat("dd/MM/yyyy").format($P{DATE_INI})]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="60" y="50" width="47" height="18"/>
				<box topPadding="2" leftPadding="2" bottomPadding="2" rightPadding="3"/>
				<text><![CDATA[Período:]]></text>
			</staticText>
			<textField isStretchWithOverflow="true" pattern="dd/MM/yyyy" isBlankWhenNull="true">
				<reportElement x="207" y="50" width="114" height="18"/>
				<box topPadding="2" leftPadding="2" bottomPadding="2" rightPadding="3"/>
				<textFieldExpression><![CDATA[new java.text.SimpleDateFormat("dd/MM/yyyy").format($P{DATE_END})]]></textFieldExpression>
			</textField>
		</band>
	</pageHeader>
	<columnHeader>
		<band height="20" splitType="Stretch">
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement stretchType="RelativeToTallestObject" mode="Opaque" x="90" y="0" width="117" height="20" isPrintWhenDetailOverflows="true" forecolor="#FFFFFF" backcolor="#000000"/>
				<box topPadding="2" leftPadding="2" bottomPadding="2" rightPadding="3">
					<pen lineWidth="1.0" lineColor="#FFFFFF"/>
					<topPen lineWidth="1.0" lineColor="#000000"/>
					<leftPen lineWidth="1.0" lineColor="#000000"/>
					<bottomPen lineWidth="1.0" lineColor="#000000"/>
					<rightPen lineWidth="1.0" lineColor="#FFFFFF"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="11" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA["Data do Pedido"]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement stretchType="RelativeToTallestObject" mode="Opaque" x="207" y="0" width="126" height="20" isPrintWhenDetailOverflows="true" forecolor="#FFFFFF" backcolor="#000000"/>
				<box topPadding="2" leftPadding="2" bottomPadding="2" rightPadding="3">
					<pen lineWidth="1.0" lineColor="#FFFFFF"/>
					<topPen lineWidth="1.0" lineColor="#000000"/>
					<leftPen lineWidth="1.0" lineColor="#FFFFFF"/>
					<bottomPen lineWidth="1.0" lineColor="#000000"/>
					<rightPen lineWidth="1.0" lineColor="#FFFFFF"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="11" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA["Status do Pedido"]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement stretchType="RelativeToTallestObject" mode="Opaque" x="333" y="0" width="168" height="20" isPrintWhenDetailOverflows="true" forecolor="#FFFFFF" backcolor="#000000"/>
				<box topPadding="2" leftPadding="2" bottomPadding="2" rightPadding="3">
					<pen lineWidth="1.0" lineColor="#FFFFFF"/>
					<topPen lineWidth="1.0" lineColor="#000000"/>
					<leftPen lineWidth="1.0" lineColor="#FFFFFF"/>
					<bottomPen lineWidth="1.0" lineColor="#000000"/>
					<rightPen lineWidth="1.0" lineColor="#FFFFFF"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="11" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA["Status do Pagamento"]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement stretchType="RelativeToTallestObject" mode="Opaque" x="655" y="0" width="203" height="20" isPrintWhenDetailOverflows="true" forecolor="#FFFFFF" backcolor="#000000"/>
				<box topPadding="2" leftPadding="2" bottomPadding="2" rightPadding="3">
					<pen lineWidth="1.0" lineColor="#FFFFFF"/>
					<topPen lineWidth="1.0" lineColor="#000000"/>
					<leftPen lineWidth="1.0" lineColor="#FFFFFF"/>
					<bottomPen lineWidth="1.0" lineColor="#000000"/>
					<rightPen lineWidth="1.0" lineColor="#FFFFFF"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="11" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA["Valor Total do Pedido"]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement stretchType="RelativeToTallestObject" mode="Opaque" x="858" y="0" width="185" height="20" isPrintWhenDetailOverflows="true" forecolor="#FFFFFF" backcolor="#000000"/>
				<box topPadding="2" leftPadding="2" bottomPadding="2" rightPadding="3">
					<pen lineWidth="1.0" lineColor="#FFFFFF"/>
					<topPen lineWidth="1.0" lineColor="#000000"/>
					<leftPen lineWidth="1.0" lineColor="#FFFFFF"/>
					<bottomPen lineWidth="1.0" lineColor="#000000"/>
					<rightPen lineWidth="1.0" lineColor="#FFFFFF"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="11" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA["Consumidor"]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement stretchType="RelativeToTallestObject" mode="Opaque" x="501" y="0" width="154" height="20" isPrintWhenDetailOverflows="true" forecolor="#FFFFFF" backcolor="#000000"/>
				<box topPadding="2" leftPadding="2" bottomPadding="2" rightPadding="3">
					<pen lineWidth="1.0" lineColor="#FFFFFF"/>
					<topPen lineWidth="1.0" lineColor="#000000"/>
					<leftPen lineWidth="1.0" lineColor="#FFFFFF"/>
					<bottomPen lineWidth="1.0" lineColor="#000000"/>
					<rightPen lineWidth="1.0" lineColor="#FFFFFF"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="11" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA["Método de Pagamento"]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement stretchType="RelativeToTallestObject" mode="Opaque" x="0" y="0" width="90" height="20" isPrintWhenDetailOverflows="true" forecolor="#FFFFFF" backcolor="#000000"/>
				<box topPadding="2" leftPadding="2" bottomPadding="2" rightPadding="3">
					<pen lineWidth="1.0" lineColor="#FFFFFF"/>
					<topPen lineWidth="1.0" lineColor="#000000"/>
					<leftPen lineWidth="1.0" lineColor="#000000"/>
					<bottomPen lineWidth="1.0" lineColor="#000000"/>
					<rightPen lineWidth="1.0" lineColor="#FFFFFF"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="11" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA["Pedido"]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement stretchType="RelativeToTallestObject" mode="Opaque" x="1043" y="0" width="185" height="20" isPrintWhenDetailOverflows="true" forecolor="#FFFFFF" backcolor="#000000"/>
				<box topPadding="2" leftPadding="2" bottomPadding="2" rightPadding="3">
					<pen lineWidth="1.0" lineColor="#FFFFFF"/>
					<topPen lineWidth="1.0" lineColor="#000000"/>
					<leftPen lineWidth="1.0" lineColor="#FFFFFF"/>
					<bottomPen lineWidth="1.0" lineColor="#000000"/>
					<rightPen lineWidth="1.0" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="11" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA["Site"]]></textFieldExpression>
			</textField>
		</band>
	</columnHeader>
	<detail>
		<band height="18" splitType="Prevent">
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement stretchType="RelativeToTallestObject" x="0" y="0" width="90" height="18" isPrintWhenDetailOverflows="true"/>
				<box topPadding="2" leftPadding="2" bottomPadding="2" rightPadding="3">
					<pen lineWidth="0.5"/>
					<topPen lineWidth="0.5"/>
					<leftPen lineWidth="1.0"/>
					<bottomPen lineWidth="0.5"/>
					<rightPen lineWidth="0.5"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle"/>
				<textFieldExpression><![CDATA[$F{orderCode}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement stretchType="RelativeToTallestObject" x="207" y="0" width="126" height="18" isPrintWhenDetailOverflows="true"/>
				<box topPadding="2" leftPadding="2" bottomPadding="2" rightPadding="3">
					<pen lineWidth="0.5"/>
					<topPen lineWidth="0.5"/>
					<leftPen lineWidth="0.5"/>
					<bottomPen lineWidth="0.5"/>
					<rightPen lineWidth="0.5"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle"/>
				<textFieldExpression><![CDATA[$F{orderStatus}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement stretchType="RelativeToTallestObject" x="333" y="0" width="168" height="18" isPrintWhenDetailOverflows="true"/>
				<box topPadding="2" leftPadding="2" bottomPadding="2" rightPadding="3">
					<pen lineWidth="0.5"/>
					<topPen lineWidth="0.5"/>
					<leftPen lineWidth="0.5"/>
					<bottomPen lineWidth="0.5"/>
					<rightPen lineWidth="0.5"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle"/>
				<textFieldExpression><![CDATA[$F{paymentStatus}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement stretchType="RelativeToTallestObject" x="858" y="0" width="185" height="18" isPrintWhenDetailOverflows="true"/>
				<box topPadding="2" leftPadding="2" bottomPadding="2" rightPadding="3">
					<pen lineWidth="0.5"/>
					<topPen lineWidth="0.5"/>
					<leftPen lineWidth="0.5"/>
					<bottomPen lineWidth="0.5"/>
					<rightPen lineWidth="0.5"/>
				</box>
				<textElement textAlignment="Left" verticalAlignment="Middle"/>
				<textFieldExpression><![CDATA[$F{customer}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" pattern="" isBlankWhenNull="true">
				<reportElement stretchType="RelativeToTallestObject" x="655" y="0" width="203" height="18" isPrintWhenDetailOverflows="true"/>
				<box topPadding="2" leftPadding="2" bottomPadding="2" rightPadding="3">
					<pen lineWidth="0.5"/>
					<topPen lineWidth="0.5"/>
					<leftPen lineWidth="0.5"/>
					<bottomPen lineWidth="0.5"/>
					<rightPen lineWidth="0.5"/>
				</box>
				<textElement textAlignment="Right" verticalAlignment="Middle"/>
				<textFieldExpression><![CDATA[new java.text.DecimalFormat("#,##0.00").format(Double.valueOf($F{totalprice}))]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement stretchType="RelativeToTallestObject" x="501" y="0" width="154" height="18" isPrintWhenDetailOverflows="true"/>
				<box topPadding="2" leftPadding="2" bottomPadding="2" rightPadding="3">
					<pen lineWidth="0.5"/>
					<topPen lineWidth="0.5"/>
					<leftPen lineWidth="0.5"/>
					<bottomPen lineWidth="0.5"/>
					<rightPen lineWidth="0.5"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle"/>
				<textFieldExpression><![CDATA[$F{paymentMode}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" pattern="" isBlankWhenNull="true">
				<reportElement stretchType="RelativeToTallestObject" x="90" y="0" width="117" height="18" isPrintWhenDetailOverflows="true"/>
				<box topPadding="2" leftPadding="2" bottomPadding="2" rightPadding="3">
					<pen lineWidth="0.5"/>
					<topPen lineWidth="0.5"/>
					<leftPen lineWidth="1.0"/>
					<bottomPen lineWidth="0.5"/>
					<rightPen lineWidth="0.5"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle"/>
				<textFieldExpression><![CDATA[new java.text.SimpleDateFormat("dd/MM/yyyy HH:mm:ss").format($F{orderDate})]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement stretchType="RelativeToTallestObject" x="1043" y="0" width="185" height="18" isPrintWhenDetailOverflows="true"/>
				<box topPadding="2" leftPadding="2" bottomPadding="2" rightPadding="3">
					<pen lineWidth="0.5"/>
					<topPen lineWidth="0.5"/>
					<leftPen lineWidth="0.5"/>
					<bottomPen lineWidth="0.5"/>
					<rightPen lineWidth="0.5"/>
				</box>
				<textElement textAlignment="Left" verticalAlignment="Middle"/>
				<textFieldExpression><![CDATA[$F{baseSite}]]></textFieldExpression>
			</textField>
		</band>
	</detail>
	<columnFooter>
		<band height="20" splitType="Stretch">
			<textField isStretchWithOverflow="true" evaluationTime="Report" isBlankWhenNull="true">
				<reportElement positionType="Float" stretchType="RelativeToTallestObject" mode="Opaque" x="655" y="0" width="203" height="19" isPrintWhenDetailOverflows="true" forecolor="#FFFFFF" backcolor="#000000"/>
				<box topPadding="2" leftPadding="2" bottomPadding="2" rightPadding="3">
					<pen lineWidth="1.0" lineColor="#FFFFFF"/>
					<topPen lineWidth="1.0" lineColor="#000000"/>
					<leftPen lineWidth="1.0" lineColor="#FFFFFF"/>
					<bottomPen lineWidth="1.0" lineColor="#000000"/>
					<rightPen lineWidth="1.0" lineColor="#FFFFFF"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="11" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA[new java.text.DecimalFormat("#,##0.00").format(Double.valueOf($V{totalprice_1}))]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" evaluationTime="Report" isBlankWhenNull="true">
				<reportElement positionType="Float" stretchType="RelativeToTallestObject" mode="Opaque" x="0" y="0" width="207" height="20" isPrintWhenDetailOverflows="true" forecolor="#FFFFFF" backcolor="#000000"/>
				<box topPadding="2" leftPadding="2" bottomPadding="2" rightPadding="3">
					<pen lineWidth="1.0" lineColor="#FFFFFF"/>
					<topPen lineWidth="1.0" lineColor="#000000"/>
					<leftPen lineWidth="1.0" lineColor="#000000"/>
					<bottomPen lineWidth="1.0" lineColor="#000000"/>
					<rightPen lineWidth="1.0" lineColor="#FFFFFF"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="11" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$V{orderId_1}.toString()]]></textFieldExpression>
			</textField>
			<line>
				<reportElement positionType="Float" stretchType="RelativeToTallestObject" x="0" y="0" width="1228" height="1" isPrintWhenDetailOverflows="true"/>
			</line>
			<textField isStretchWithOverflow="true" evaluationTime="Report" isBlankWhenNull="true">
				<reportElement positionType="Float" stretchType="RelativeToTallestObject" mode="Opaque" x="858" y="0" width="185" height="19" isPrintWhenDetailOverflows="true" forecolor="#FFFFFF" backcolor="#000000"/>
				<box topPadding="2" leftPadding="2" bottomPadding="2" rightPadding="3">
					<pen lineWidth="1.0" lineColor="#FFFFFF"/>
					<topPen lineWidth="1.0" lineColor="#000000"/>
					<leftPen lineWidth="1.0" lineColor="#FFFFFF"/>
					<bottomPen lineWidth="1.0" lineColor="#000000"/>
					<rightPen lineWidth="1.0" lineColor="#FFFFFF"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="11" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA[]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" evaluationTime="Report" isBlankWhenNull="true">
				<reportElement positionType="Float" stretchType="RelativeToTallestObject" mode="Opaque" x="207" y="0" width="448" height="20" isPrintWhenDetailOverflows="true" forecolor="#FFFFFF" backcolor="#000000"/>
				<box topPadding="2" leftPadding="2" bottomPadding="2" rightPadding="3">
					<pen lineWidth="1.0" lineColor="#FFFFFF"/>
					<topPen lineWidth="1.0" lineColor="#000000"/>
					<leftPen lineWidth="1.0" lineColor="#000000"/>
					<bottomPen lineWidth="1.0" lineColor="#000000"/>
					<rightPen lineWidth="1.0" lineColor="#FFFFFF"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="11" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA[]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" evaluationTime="Report" isBlankWhenNull="true">
				<reportElement positionType="Float" stretchType="RelativeToTallestObject" mode="Opaque" x="1043" y="0" width="185" height="19" isPrintWhenDetailOverflows="true" forecolor="#FFFFFF" backcolor="#000000"/>
				<box topPadding="2" leftPadding="2" bottomPadding="2" rightPadding="3">
					<pen lineWidth="1.0" lineColor="#FFFFFF"/>
					<topPen lineWidth="1.0" lineColor="#000000"/>
					<leftPen lineWidth="1.0" lineColor="#FFFFFF"/>
					<bottomPen lineWidth="1.0" lineColor="#000000"/>
					<rightPen lineWidth="1.0" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="11" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA[]]></textFieldExpression>
			</textField>
		</band>
	</columnFooter>
</jasperReport>
